This is the order of operations to produce a galaxy catalog.

Have the following data files available:
  - LightCone7.boxfullwidth4.5deg.dat.fixed.gz
    A list of galaxy IDs, redshifts, RA/dec, and scale factors

  - getDeLucia.ALL.dat.gz
  - getSuppDeLucia.dat.gz
    Data from the DeLucia & Blaizot (2006) catalog
  
  - galCatBC03BVRIK.dat
    Colors for spectrum models, generated by galCatMakeBC03Table.py

  - bC03Models/*
    The Bruzual & Charlot (2003) SED models we're using

  - idata.DurhamCounts.txt
    From the Durham web page; galaxy counts as a function of I_KC mag

  - JimIDsimQuasars_v1.1.dat
    List of AGN that Zeljko et al. simulated, with ID numbers added by Jim

  - hdf_rad.dat
    HDF galaxy morphology, for comparison.

Order of operations:

galCatMatchDeLuciaToLightCone.py:
  Creates toAthena/matchedLCGals* files by taking the light cone and matching to the DeLucia catalog based on galID.

galCatSelectBC03ForDeLucia.py:
  Identifies the best SED and reddening model for each galaxy in the toAthena/matchedLCGals* files.  The disk and bulge components are written out separately.  The output files are placed in fromAthena/matchedLCGals*.
  Test the success by:
  cd /astro/net/pogo3/rgibson/jimpy/athena/galCat12a/selectBC03ForDeLuciaAthenaScripts/out
  ls -1 *.out | wc -l
  # Should equal 92
  grep -L "Finished successfully" *.out
  All *.err files should have zero size, or at least only show eups EOF errors (what are these?)
  All output files should have 200000 lines.

At this point, delete the data/sEDs/* files, because they will be written out as the code runs and we want to keep them up to date.

galCatMatchToSEDs.py:
  Takes the fromAthena/matchedLCGals* files and their SED models and uses that information to calculate observed-frame magnitudes, flux norms, etc.  Also calculates morphological information and other catalog information.  Stores the output in pickle files in fromAthena/galCatMatchToSEDsOut*.  Keeps a histogram of the distribution of tauI values (indicating the amount of reddening; see galCatCommon.py) and saves that distribution in fromAthena/galCatMatchToSEDsTauHist*.
  Test the success by:
  cd /astro/net/pogo3/rgibson/jimpy/athena/galCat12a/matchToSEDsAthenaScripts/out
  ls -1 *.out | wc -l
  # Should equal 92
  grep -L "Finished successfully" *.out
  "grep "Finished succ" *.out | wc -l" should be 92
  All *.err files should have zero size, or at least only show eups EOF errors (what are these?)
  There may not be 100000 galaxies per file, as some bad cases were thrown out.


galCatWritePickles.py:
  Takes all the pickle files in fromAthena/galCatMatchToSEDsOut* and turns them into text files.  Uses the tauI histograms from the previous step to determine simulated values of disk b/a ratios.  Writes the output catalog to writePickles/galCatMergePickles.*.dat, and also creates an indexed list of SED files for use by the DB, named writePickles/galCatMergePicklesSED.*.dat.  Unfortunately, with code re-vamping, this module had to be broken up and moved to athena.  Now the SED numbers will be wrong, since each case only knows about the SEDs in its 100000 galaxies.
  cd /astro/net/pogo3/rgibson/jimpy/athena/galCat12a/writePicklesScripts/out/
  ls -1 *.out | wc -l
  # Should equal 92
  grep -L "Finished successfully" *.out
  "grep "Finished succ" *.out | wc -l" should be 92
  All *.err files should have zero size, or at least only show eups EOF errors (what are these?)
  All output files should have 200000 lines.

galCatStitchWrittenPickles.py
  Combines all the writePickles text files into one large catalog, galCatMergePickles.  Along the way, it re-numbers the SEDs so they are on a global numbering scheme.  Right now it does not print out a list of SEDs matched to SED index; this could be extracted after the fact.
  Run in a single process on a desktop, it should finish successfully.

galCatMatchToDurhamCounts.py:
  (source gCCAll.csh)
  Takes the galCatMergePickles.dat catalog and clones entries to match the #/mag distribution observed by the Durham group and also the z(mag) distribution in Coil+2004.  Output files are written to galCatClone/galCatClonedMag*.
  Check by running galCatCheckAllClones.py
  cd /astro/net/pogo3/rgibson/jimpy/athena/galCat12a/galCatCloneScripts/out/
  grep -L "Finished" *.out should give no bad files


galCatAddAGN.py:
  Matches the simulated AGN in JimIDsimQuasars_v1.1.dat to the galCatClonedMag* catalogs, outputs a list of galIDs matched to AGNIDs.

galCatMergeAGNsAndPruneMags.py:
  Writes out the nearly-final catalog, matching AGN data to galaxies that have their GalIDs identified by galCatAddAGN.py.  Drops galaxies fainter than r=28.

galCatPostProcessCatalog.py:
  Performs essential post-processing.  Currently adds galaxy number (for DB ingestion), fixes up the galaxy ID clone numbers, and zeros out the inclination fields.